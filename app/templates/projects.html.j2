{% extends "base.html.j2" %}
{% block head %}
<title>{{ _('Projects') }}</title>
<meta name="description" content="{{ _('Projects I did or am doing') }}" />
<link rel="stylesheet" href="{{ url_for('static', filename='css/projects.css')}}" />
{% endblock head %}
{% block main %}
<h1>{{ _('Projects') }}</h1>
<p>{{ _('Some of my projects.') }}</p>
<div class="cards">
  <!-- Tarjeta -->
  {% for project in projects %}
  <div class="card">
    <div class="img-container overlay">
      <a href="{{ url_for('project_detail', slug=project.slug) }}">
        {# Usamos la imagen extra√≠da o una por defecto #}
        {% if project.cover_image %}
          <img src="{{ project.cover_image }}" alt="{{ project.title[g.lang] }}" />
        {% else %}
          <!-- Imagen de respaldo por si el proyecto no tiene ninguna imagen -->
          <div style="width: 100%; height: 100%; background: var(--color-accent1-a); display: flex; align-items: center; justify-content: center;">
            <i class="bx bx-code-block" style="font-size: 3rem; color: var(--color-accent1);"></i>
          </div>
        {% endif %}
      </a>
    </div>
    <div class="buttons">
      {% if project.meta.get('live_url') %}
      <a href="{{ project.meta.get('live_url') }}" target="_blank" class="button-1 i-btn" title="{{ _('Visit') }}"><i class="bx bx-link-external"></i></a>
      {% endif %}
      {% if project.meta.get('code_url') %}
      <a href="{{ project.meta.get('code_url') }}" target="_blank" class="button-1 i-btn" title="{{ _('Code') }}"><i class="bx bx-code-alt"></i></a>
      {% endif %}
    </div>
    <div class="card-content">
      <div class="icons">
        {% for tech in project.meta.get('tech', []) %}
          {# Formato de tech en YAML: "python-plain colored", "html5-plain colored", etc #}
          <i class="devicon-{{ tech }}" title="{{ tech.split('-')[0] | title }}"></i>
        {% endfor %}
      </div>
      <h3><a href="{{ url_for('project_detail', slug=project.slug) }}" style="color: inherit;">{{ project.title[g.lang] }}</a></h3>
      <p>{{ project.description[g.lang] }}</p>
    </div>
  </div>
  {% else %}
    <p>{{ _('No projects yet.') }}</p>
  {% endfor %}
</div>
{% endblock main %}
<!-- <div class="buttons">
  <a class="button-1 i-btn" href="https://crysok.com" target="_blank"><i class="fa-solid fa-external-link i"></i
  ></a>
  <a class="button-2 i-btn" href="https://crysok.com" target="_blank"><i class="fa-solid fa-code i"></i
  ></a>
</div> -->
<!-- <div class="buttons">
  <a href="" class="button-1 i-btn"><i class="las la-external-link-alt"></i></a>
  <a href="" class="button-2 i-btn"><i class="las la-code"></i></a>
</div> -->
<!-- <div class="buttons">
  <a href="" class="button-1 i-btn"><i class="bx bx-link-external"></i></a>
  <a href="" class="button-2 i-btn"><i class="bx bx-code-alt"></i></a>
</div> -->
